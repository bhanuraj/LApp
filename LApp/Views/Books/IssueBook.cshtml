@model LApp.ViewModels.IssueBookViewModel
@{
    ViewBag.Title = "IssueBook";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div ng-controller="issueBookController" ng-init="Initilize(@Newtonsoft.Json.JsonConvert.SerializeObject(Model));">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <img style="max-width: 20%;" src="../../Assets/imgs/LApp.png" alt="LApp" />
                <lable style="font-size: 170%;">&nbsp;&nbsp;</lable>
            </div>
            <div class="col-lg-4 right">
                Welcome {{UserName}} <a class="btn btn-material-purple" href="/Home/Logout">Log out
                    <div class="ripple-wrapper">
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div style="height: 100vh; padding: 3%; background-color: #009587;">
        <div class="container">
            <div class="jumbotron row">
                <div class="col-lg-3 well">
                    <a class="col-lg-12 btn btn-material-purple" style="text-align: left; margin-bottom: 0px;"
                        href="/Books">View Books</a> <a class="col-lg-12 btn btn-material-purple" style="text-align: left;
                            margin-bottom: 0px;" href="/Books/AddBook">Add Book</a> <a class="col-lg-12 btn btn-material-purple"
                                style="text-align: left; margin-bottom: 0px;" href="/Books/IssueBook">Issue Book</a>
                    <a class="col-lg-12 btn btn-material-purple" style="text-align: left; margin-bottom: 0px;"
                        href="/Books/ReturnBook">Return Book</a>
                </div>
                <div class="col-lg-9">
                    <div class="col-lg-12">
                        <h2>
                            Issue Book
                        </h2>
                        <div class="progress">
                            <div class="progress-bar" style="width: 100%">
                            </div>
                        </div>
                    </div>
                    <div class="row col-lg-12">
                        <div class="col-lg-12">
                            <div class="row col-lg-6" ng-show="Requests.length == 0">
                                No request found.
                            </div>
                            <div class="row">
                                <div class="form-group col-lg-6" ng-show="Requests.length > 0">
                                    <label class="control-label" for="inputEmail">
                                        Select transaction</label>
                                    <div class="form-control-wrapper">
                                        <select class="form-control" id="select" ng-change="GetTransactionDetails();" ng-model="SelecetdTransactionId">
                                            <option ng-repeat="tran in Requests" value="{{tran.TransactionId}}">{{tran.TransactionId}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="TransDetails != ''">
                                <div class="row">
                                    <div class="form-group col-lg-6">
                                        Requested By : {{TransDetails.RequestUserName}}<br />
                                        Book Name : {{TransDetails.Book.Name}}<br />
                                        Book Author : {{TransDetails.Book.Author}}<br />
                                        Published Year : {{TransDetails.Book.PublishedYear}}<br />
                                    </div>
                                </div>
                                <div class="row" style="text-align: center">
                                    <a class="btn btn-material-purple btn-lg" ng-click="IssueBook();">Issue book
                                        <div class="ripple-wrapper">
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Script{
    <script src="../../Assets/js/services/issueBookService.js" type="text/javascript"></script>
    <script src="../../Assets/js/controllers/issueBookController.js" type="text/javascript"></script>
}
